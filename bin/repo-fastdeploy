#!/bin/bash

DEFAULT_REMOTE_HOSTS=""
source $HOME/.config/repo-fastdeploy.conf

REMOTE_HOSTS="$DEFAULT_REMOTE_HOSTS"

if [[ ! -z $1 ]]; then
    ### Specify remotes in argv
    REMOTE_HOSTS="$@"
fi

for host in $REMOTE_HOSTS; do
    if [[ ${host:0:1} != '#' ]]; then
        echo "[INFO] Deploying to '$host' ..."
        rsync -a $PWD/ $host:$PWD/
    fi
done
