#!/bin/bash

# arg1: Target Device
TargetDevice=$1

if [[ `uname` == "Linux" ]]; then
    DEV_HOME_DIR=/home/neruthes/DEV
else
    DEV_HOME_DIR=/Users/Neruthes/Developer
fi

if [[ ${TargetDevice:0:4} == "NDPS" ]]; then
    SSHUsername=root
else
    SSHUsername=neruthes
fi

IPAddrFile="${DEV_HOME_DIR}/NDevMgr/LanDDNS/${TargetDevice}.txt"
if [[ -r $IPAddrFile ]]; then
    IPAddr=$(cat $IPAddrFile)
else
    echo "ERROR: Cannot find IP address of ${TargetDevice} in 'NDevMgr/LanDDNS'"
fi

if [[ -r "~/.ssh/$(hostname)" ]]; then
    ssh -i "~/.ssh/$(hostname)" "${SSHUsername}@${TargetDevice}.lan.neruthes.xyz"
else
    ssh "${SSHUsername}@${TargetDevice}.lan.neruthes.xyz"
fi
